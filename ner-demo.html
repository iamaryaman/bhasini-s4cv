<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multilingual NER Demo - S4CV</title>
    
    <!-- Styles -->
    <link rel="stylesheet" href="dark-theme.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: var(--dark-bg-primary);
            color: var(--text-primary);
            margin: 0;
            padding: var(--spacing-lg);
        }
        
        .demo-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .demo-header {
            text-align: center;
            margin-bottom: var(--spacing-xl);
        }
        
        .demo-section {
            background: var(--dark-bg-secondary);
            border-radius: var(--radius-lg);
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-lg);
        }
        
        .text-input-section {
            margin-bottom: var(--spacing-xl);
        }
        
        .language-selector {
            display: flex;
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-md);
            flex-wrap: wrap;
        }
        
        .lang-btn {
            padding: var(--spacing-sm) var(--spacing-md);
            border: 1px solid var(--border-primary);
            background: var(--dark-bg-tertiary);
            color: var(--text-secondary);
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .lang-btn.active {
            background: var(--accent-primary);
            color: white;
            border-color: var(--accent-primary);
        }
        
        .text-area {
            width: 100%;
            min-height: 150px;
            padding: var(--spacing-md);
            background: var(--dark-bg-tertiary);
            border: 1px solid var(--border-primary);
            border-radius: var(--radius-md);
            color: var(--text-primary);
            font-size: 1rem;
            line-height: 1.6;
            resize: vertical;
            box-sizing: border-box;
        }
        
        .demo-controls {
            display: flex;
            gap: var(--spacing-sm);
            margin-top: var(--spacing-md);
            flex-wrap: wrap;
        }
        
        .sample-texts {
            display: grid;
            gap: var(--spacing-sm);
            margin-top: var(--spacing-md);
        }
        
        .sample-text {
            padding: var(--spacing-sm);
            background: var(--dark-bg-tertiary);
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: background 0.2s ease;
            border: 1px solid var(--border-primary);
        }
        
        .sample-text:hover {
            background: rgba(59, 130, 246, 0.1);
            border-color: var(--accent-primary);
        }
        
        .sample-lang {
            font-size: 0.75rem;
            color: var(--text-secondary);
            margin-bottom: var(--spacing-xs);
        }
        
        .sample-content {
            color: var(--text-primary);
            font-size: 0.875rem;
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <div class="demo-header">
            <h1>ЁЯФН Multilingual NER Demo</h1>
            <p>Test Named Entity Recognition across all 13 Bhashini supported languages</p>
        </div>
        
        <div class="demo-section text-input-section">
            <h2>Text Input & Language Selection</h2>
            
            <div class="language-selector">
                <button class="lang-btn active" onclick="selectLanguage('hi')" data-lang="hi">ЁЯЗоЁЯЗ│ Hindi</button>
                <button class="lang-btn" onclick="selectLanguage('en')" data-lang="en">ЁЯЗ║ЁЯЗ╕ English</button>
                <button class="lang-btn" onclick="selectLanguage('ta')" data-lang="ta">ЁЯЗоЁЯЗ│ Tamil</button>
                <button class="lang-btn" onclick="selectLanguage('te')" data-lang="te">ЁЯЗоЁЯЗ│ Telugu</button>
                <button class="lang-btn" onclick="selectLanguage('kn')" data-lang="kn">ЁЯЗоЁЯЗ│ Kannada</button>
                <button class="lang-btn" onclick="selectLanguage('ml')" data-lang="ml">ЁЯЗоЁЯЗ│ Malayalam</button>
                <button class="lang-btn" onclick="selectLanguage('mr')" data-lang="mr">ЁЯЗоЁЯЗ│ Marathi</button>
                <button class="lang-btn" onclick="selectLanguage('gu')" data-lang="gu">ЁЯЗоЁЯЗ│ Gujarati</button>
                <button class="lang-btn" onclick="selectLanguage('bn')" data-lang="bn">ЁЯЗоЁЯЗ│ Bengali</button>
                <button class="lang-btn" onclick="selectLanguage('pa')" data-lang="pa">ЁЯЗоЁЯЗ│ Punjabi</button>
                <button class="lang-btn" onclick="selectLanguage('or')" data-lang="or">ЁЯЗоЁЯЗ│ Odia</button>
                <button class="lang-btn" onclick="selectLanguage('as')" data-lang="as">ЁЯЗоЁЯЗ│ Assamese</button>
                <button class="lang-btn" onclick="selectLanguage('ur')" data-lang="ur">ЁЯЗ╡ЁЯЗ░ Urdu</button>
            </div>
            
            <textarea 
                id="inputText" 
                class="text-area" 
                placeholder="Enter text for entity extraction...">рдореЗрд░рд╛ рдирд╛рдо рд░рд╛рд╣реБрд▓ рд╢рд░реНрдорд╛ рд╣реИ рдФрд░ рдореИрдВ рджрд┐рд▓реНрд▓реА рдореЗрдВ рд░рд╣рддрд╛ рд╣реВрдВред рдореИрдВ рдПрдХ рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдЗрдВрдЬреАрдирд┐рдпрд░ рд╣реВрдВ рдФрд░ рдЯрд╛рдЯрд╛ рдХрдВрд╕рд▓реНрдЯреЗрдВрд╕реА рд╕рд░реНрд╡рд┐рд╕реЗрдЬ рдореЗрдВ рдХрд╛рдо рдХрд░рддрд╛ рд╣реВрдВред рдореЗрд░реА рдИрдореЗрд▓ rahul.sharma@example.com рд╣реИ рдФрд░ рдлреЛрди рдирдВрдмрд░ 9876543210 рд╣реИред рдореИрдВрдиреЗ рдЖрдИрдЖрдИрдЯреА рджрд┐рд▓реНрд▓реА рд╕реЗ рдХрдВрдкреНрдпреВрдЯрд░ рд╕рд╛рдЗрдВрд╕ рдореЗрдВ рдмреА.рдЯреЗрдХ рдХреА рдбрд┐рдЧреНрд░реА рд▓реА рд╣реИред</textarea>
            
            <div class="demo-controls">
                <button class="btn btn-primary" onclick="extractEntities()">
                    ЁЯФН Extract Entities
                </button>
                <button class="btn btn-secondary" onclick="clearText()">
                    ЁЯЧСя╕П Clear
                </button>
                <button class="btn btn-ghost" onclick="loadSampleText()">
                    ЁЯУД Load Sample
                </button>
            </div>
            
            <div class="sample-texts">
                <h3>Sample Texts (Click to Load):</h3>
                <div class="sample-text" onclick="loadSpecificSample('hi', this.querySelector('.sample-content').textContent)">
                    <div class="sample-lang">Hindi</div>
                    <div class="sample-content">рдореИрдВ рдЕрдорд┐рдд рдкрдЯреЗрд▓ рд╣реВрдВ рдФрд░ рдореБрдВрдмрдИ рдореЗрдВ рд░рд╣рддрд╛ рд╣реВрдВред рдореИрдВ рдЗрдВрдлреЛрд╕рд┐рд╕ рдореЗрдВ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдореИрдиреЗрдЬрд░ рд╣реВрдВред рдореЗрд░рд╛ рдлреЛрди рдирдВрдмрд░ +91-9876543210 рд╣реИред рдореИрдВрдиреЗ рдкреБрдгреЗ рд╡рд┐рд╢реНрд╡рд╡рд┐рджреНрдпрд╛рд▓рдп рд╕реЗ рдПрдордмреАрдП рдХрд┐рдпрд╛ рд╣реИред</div>
                </div>
                <div class="sample-text" onclick="loadSpecificSample('en', this.querySelector('.sample-content').textContent)">
                    <div class="sample-lang">English</div>
                    <div class="sample-content">My name is Priya Singh and I work at Microsoft as a software engineer in Bangalore. You can reach me at priya.singh@email.com or call 8765432109. I graduated from IIT Bangalore with a degree in Computer Science.</div>
                </div>
                <div class="sample-text" onclick="loadSpecificSample('ta', this.querySelector('.sample-content').textContent)">
                    <div class="sample-lang">Tamil</div>
                    <div class="sample-content">роОройрпН рокрпЖропро░рпН роХро┐ро░рогрпН роХрпБрооро╛ро░рпН. роиро╛ройрпН роЪрпЖройрпНройрпИропро┐ро▓рпН ро╡роЪро┐роХрпНроХро┐ро▒рпЗройрпН. роиро╛ройрпН ро╡ро┐рокрпНро░рпЛро╡ро┐ро▓рпН роЪро╛роГрокрпНроЯрпНро╡рпЗро░рпН роЯрпЖро╡ро▓рокрпНрокро░ро╛роХ ро╡рпЗро▓рпИ роЪрпЖропрпНроХро┐ро▒рпЗройрпН. роОройрпН рооро┐ройрпНройроЮрпНроЪро▓рпН kiran.kumar@example.com рооро▒рпНро▒рпБроорпН родрпКро▓рпИрокрпЗроЪро┐ роОрогрпН 9876543210.</div>
                </div>
                <div class="sample-text" onclick="loadSpecificSample('te', this.querySelector('.sample-content').textContent)">
                    <div class="sample-lang">Telugu</div>
                    <div class="sample-content">р░ир░╛ р░кр▒Зр░░р▒Б р░░р░╛р░Ьр▒Зр░╖р▒Н р░░р▒Жр░бр▒Нр░бр░┐. р░ир▒Зр░ир▒Б р░╣р▒Ир░жр░░р░╛р░мр░╛р░жр▒НтАМр░▓р▒Л р░ир░┐р░╡р░╕р░┐р░╕р▒Нр░др▒Бр░ир▒Нр░ир░╛р░ир▒Б. р░ир▒Зр░ир▒Б р░Яр░┐р░╕р░┐р░Ор░╕р▒НтАМр░▓р▒Л р░╕р░╛р░лр▒Нр░Яр▒НтАМр░╡р▒Зр░░р▒Н р░Зр░Вр░Ьр░ир▒Ар░░р▒НтАМр░Чр░╛ р░кр░ир░┐ р░Ър▒Зр░╕р▒Нр░др▒Бр░ир▒Нр░ир░╛р░ир▒Б. р░ир░╛ р░Зр░ор▒Жр░пр░┐р░▓р▒Н rajesh.reddy@email.com р░ор░░р░┐р░пр▒Б р░лр▒Лр░ир▒Н р░ир░Вр░мр░░р▒Н 9876543210.</div>
                </div>
            </div>
        </div>
        
        <!-- NER Visualization will be inserted here -->
        <div id="nerVisualization"></div>
        
        <div class="demo-section">
            <h2>About This Demo</h2>
            <p>This demo showcases the multilingual Named Entity Recognition (NER) system integrated with Bhashini APIs. It can extract the following types of entities:</p>
            <ul>
                <li><strong>ЁЯСд Person:</strong> Names with titles and surnames</li>
                <li><strong>ЁЯУН Location:</strong> Cities, states, and geographical locations</li>
                <li><strong>ЁЯПв Organization:</strong> Companies, institutions, and organizations</li>
                <li><strong>ЁЯТ╝ Skills:</strong> Technical and professional skills</li>
                <li><strong>ЁЯОУ Education:</strong> Degrees, courses, and educational terms</li>
                <li><strong>ЁЯУЕ Date:</strong> Dates, days, and temporal expressions</li>
                <li><strong>ЁЯУЮ Contact:</strong> Email addresses and phone numbers</li>
            </ul>
            <p>The system supports all 13 languages available in Bhashini and is optimized for CV/Resume content extraction.</p>
        </div>
    </div>
    
    <!-- Scripts -->
    <script src="multilingual-ner.js"></script>
    <script src="ner-ui-components.js"></script>
    
    <script>
        let currentLanguage = 'hi';
        let nerEngine = null;
        let nerUI = null;
        
        // Initialize NER components
        document.addEventListener('DOMContentLoaded', async () => {
            try {
                nerEngine = new MultilingualNEREngine();
                nerUI = new NERVisualizationUI('nerVisualization', {
                    showConfidence: true,
                    enableEditing: true,
                    enableValidation: true
                });
                
                // Setup callbacks
                nerUI.setCallbacks({
                    onValidationComplete: (result) => {
                        console.log('Validation completed:', result);
                        showToast('success', `Validation complete! ${result.validated.length} entities validated.`);
                    }
                });
                
                console.log('NER Demo initialized successfully');
            } catch (error) {
                console.error('Failed to initialize NER demo:', error);
                showToast('error', 'Failed to initialize NER components');
            }
        });
        
        function selectLanguage(lang) {
            currentLanguage = lang;
            
            // Update UI
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-lang="${lang}"]`).classList.add('active');
            
            console.log('Language selected:', lang);
        }
        
        async function extractEntities() {
            const text = document.getElementById('inputText').value.trim();
            
            if (!text) {
                showToast('warning', 'Please enter some text first');
                return;
            }
            
            if (!nerEngine) {
                showToast('error', 'NER engine not initialized');
                return;
            }
            
            try {
                showToast('info', 'Extracting entities...');
                
                const entities = await nerEngine.extractEntities(text, currentLanguage);
                
                if (entities.length > 0) {
                    nerUI.displayEntities(entities, text);
                    showToast('success', `Found ${entities.length} entities!`);
                } else {
                    showToast('info', 'No entities found in the text');
                    nerUI.clear();
                }
            } catch (error) {
                console.error('Entity extraction failed:', error);
                showToast('error', 'Failed to extract entities');
            }
        }
        
        function clearText() {
            document.getElementById('inputText').value = '';
            if (nerUI) {
                nerUI.clear();
            }
            showToast('info', 'Text cleared');
        }
        
        function loadSampleText() {
            const samples = {
                'hi': 'рдореЗрд░рд╛ рдирд╛рдо рд░рд╛рд╣реБрд▓ рд╢рд░реНрдорд╛ рд╣реИ рдФрд░ рдореИрдВ рджрд┐рд▓реНрд▓реА рдореЗрдВ рд░рд╣рддрд╛ рд╣реВрдВред рдореИрдВ рдПрдХ рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдЗрдВрдЬреАрдирд┐рдпрд░ рд╣реВрдВ рдФрд░ рдЯрд╛рдЯрд╛ рдХрдВрд╕рд▓реНрдЯреЗрдВрд╕реА рд╕рд░реНрд╡рд┐рд╕реЗрдЬ рдореЗрдВ рдХрд╛рдо рдХрд░рддрд╛ рд╣реВрдВред рдореЗрд░реА рдИрдореЗрд▓ rahul.sharma@example.com рд╣реИ рдФрд░ рдлреЛрди рдирдВрдмрд░ 9876543210 рд╣реИред рдореИрдВрдиреЗ рдЖрдИрдЖрдИрдЯреА рджрд┐рд▓реНрд▓реА рд╕реЗ рдХрдВрдкреНрдпреВрдЯрд░ рд╕рд╛рдЗрдВрд╕ рдореЗрдВ рдмреА.рдЯреЗрдХ рдХреА рдбрд┐рдЧреНрд░реА рд▓реА рд╣реИред',
                'en': 'My name is John Smith and I work as a Data Scientist at Google in San Francisco. You can reach me at john.smith@gmail.com or call +1-555-123-4567. I have a PhD in Machine Learning from Stanford University and previously worked at Microsoft for 5 years.',
                'ta': 'роОройрпН рокрпЖропро░рпН роЕро░рпБрогрпН роХрпБрооро╛ро░рпН. роиро╛ройрпН роЪрпЖройрпНройрпИропро┐ро▓рпН ро╡роЪро┐роХрпНроХро┐ро▒рпЗройрпН рооро▒рпНро▒рпБроорпН роЗройрпНроГрокрпЛроЪро┐ро╕рпН роиро┐ро▒рпБро╡ройродрпНродро┐ро▓рпН роорпЖройрпНрокрпКро░рпБро│рпН рокрпКро▒ро┐ропро╛ро│ро░ро╛роХ рокрогро┐рокрпБро░ро┐роХро┐ро▒рпЗройрпН. роОройрпН рооро┐ройрпНройроЮрпНроЪро▓рпН роорпБроХро╡ро░ро┐ arun.kumar@infosys.com рооро▒рпНро▒рпБроорпН родрпКро▓рпИрокрпЗроЪро┐ роОрогрпН 9876543210.',
                'te': 'р░ир░╛ р░кр▒Зр░░р▒Б р░╡р▒Жр░Вр░Хр░Яр▒Н р░░р▒Жр░бр▒Нр░бр░┐. р░ир▒Зр░ир▒Б р░╣р▒Ир░жр░░р░╛р░мр░╛р░жр▒НтАМр░▓р▒Л р░ир░┐р░╡р░╕р░┐р░╕р▒Нр░др▒Бр░ир▒Нр░ир░╛р░ир▒Б р░ор░░р░┐р░пр▒Б р░ор▒Ир░Хр▒Нр░░р▒Лр░╕р░╛р░лр▒Нр░Яр▒НтАМр░▓р▒Л р░╕р░╛р░лр▒Нр░Яр▒НтАМр░╡р▒Зр░░р▒Н р░бр▒Жр░╡р░▓р░кр░░р▒НтАМр░Чр░╛ р░кр░ир░┐ р░Ър▒Зр░╕р▒Нр░др▒Бр░ир▒Нр░ир░╛р░ир▒Б. р░ир░╛ р░Зр░ор▒Жр░пр░┐р░▓р▒Н venkat.reddy@microsoft.com р░ор░░р░┐р░пр▒Б р░лр▒Лр░ир▒Н 8765432109.'
            };
            
            const sample = samples[currentLanguage] || samples['hi'];
            document.getElementById('inputText').value = sample;
            showToast('info', `Sample text loaded for ${currentLanguage}`);
        }
        
        function loadSpecificSample(lang, text) {
            selectLanguage(lang);
            document.getElementById('inputText').value = text;
            showToast('info', `Sample loaded for ${lang}`);
        }
        
        function showToast(type, message) {
            // Create toast if it doesn't exist
            let toastContainer = document.getElementById('toast-container');
            if (!toastContainer) {
                toastContainer = document.createElement('div');
                toastContainer.id = 'toast-container';
                toastContainer.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    z-index: 10000;
                    display: flex;
                    flex-direction: column;
                    gap: 10px;
                `;
                document.body.appendChild(toastContainer);
            }
            
            const toast = document.createElement('div');
            toast.style.cssText = `
                padding: 12px 16px;
                border-radius: 8px;
                color: white;
                font-size: 14px;
                max-width: 300px;
                opacity: 0;
                transform: translateX(100%);
                transition: all 0.3s ease;
                cursor: pointer;
            `;
            
            const colors = {
                success: '#10B981',
                error: '#EF4444',
                warning: '#F59E0B',
                info: '#3B82F6'
            };
            
            toast.style.backgroundColor = colors[type] || colors.info;
            toast.textContent = message;
            
            toast.onclick = () => toast.remove();
            
            toastContainer.appendChild(toast);
            
            // Animate in
            setTimeout(() => {
                toast.style.opacity = '1';
                toast.style.transform = 'translateX(0)';
            }, 10);
            
            // Auto remove after 5 seconds
            setTimeout(() => {
                toast.style.opacity = '0';
                toast.style.transform = 'translateX(100%)';
                setTimeout(() => toast.remove(), 300);
            }, 5000);
        }
    </script>
</body>
</html>
